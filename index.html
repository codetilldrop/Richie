<html>
  <head>
  </head>
  <body>
    <h1 id="capital">Capital: 0</h1>
    <button id="play_button" onclick="play()">Play</button>
    <button id="choice_one" value="" onclick="choiceSelected(this)"></button>
    <button id="choice_two" value="" onclick="choiceSelected(this)"></button>
    <button id="choice_three" value="" onclick="choiceSelected(this)"></button>
  </body>
  <script>
    // Configuration settings for Richie when the page 
    // initially starts up and sets up any necessary
    // global variables for the script
    var choiceOne = document.getElementById("choice_one");
    var choiceTwo = document.getElementById("choice_two");
    var choiceThree = document.getElementById("choice_three");
    var playButton = document.getElementById("play_button");
    var capitalText = document.getElementById("capital");
    
    var endOfYear = 5;

    // Capital is a variable which will be used later on 
    // as development progresses
    var capital = 0
    
    /*
    Choices is an object which will hold all the choices as
    keys and then the vals to those keys will be objects 
    holding the stats/captial/points/chance for each choice
    */
    var choices = {
      "Invest $50 at a fixed rate of 40%": {
        points: 70,
        chance: false,
        loss: false
      },

      "Invest $100 at a variable rate starting at 50%": {
        chance: true,
        pointsOnFail: 110,
        pointsOnWin: 150,
        loss: false
      },

      "You earn $500 as passive income": {
        points: 500,
        chance: false,
        loss: false,
      }
    };

    var choicesList = Object.keys(choices);

    choiceOne.style.visibility = "hidden";
    choiceTwo.style.visibility = "hidden";
    choiceThree.style.visibility = "hidden";

    // Play function: Hides the current play button 
    // and begins to execute the game
    function play () {
      playButton.style.visibility = "hidden";
      generateChoices();      
    }

    // Generate Choices Function: Begins to generate the three choices for the user
    function generateChoices () {
      var choiceLength = choicesList.length;

      // Pick random choices from the choicesList
      var genChoiceOne = choicesList[Math.floor(Math.random() * choiceLength)];
      var genChoiceTwo = choicesList[Math.floor(Math.random() * choiceLength)];
      var genChoiceThree = choicesList[Math.floor(Math.random() * choiceLength)];

      // Display those random choices in the buttons
      choiceOne.value = genChoiceOne;
      choiceOne.innerHTML = genChoiceOne;
      choiceOne.style.visibility = "visible";

      choiceTwo.value = genChoiceTwo;
      choiceTwo.innerHTML = genChoiceTwo;
      choiceTwo.style.visibility = "visible";

      choiceThree.value = genChoiceTwo;
      choiceThree.innerHTML = genChoiceTwo;
      choiceThree.style.visibility = "visible";
    }
    
    // Choice Selected Function: When a choice has been selected
    // The appropriate action is determined here
    function choiceSelected (selectedChoice) {
      var selectedValue = selectedChoice.value;
      console.log(selectedValue);
      var selectedValueProps = choices[selectedValue];

      // Working out whether the user gains or loses capital
      // with their choice
      if (!selectedValueProps.loss) {
        // Checking if there is any chance in 
        // determining the income generated by the user's choice
        if (selectedValueProps.chance) {
          var chance = Math.floor(Math.random() * 1);
          if (chance === 0) {
            capital += selectedValueProps.pointsOnWin;
          } else {
            capital += selectedValueProps.pointsOnFail;
          }
        } else {
          capital += selectedValueProps.points; 
        }
      } else {
        // Insert code for if they have picked a choice which makes
        // them lose capital
      }

      capitalText.innerHTML = "Capital: $" + capital;
      generateChoices();
    }
  </script>
</html>